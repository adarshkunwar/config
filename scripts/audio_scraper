#!/usr/bin/env bash
set -uo pipefail

INPUT="${1:?Usage: $0 <input.webm>}"
OUTPUT="${2:-audio.opus}"

if ffmpeg -hide_banner -loglevel error \
  -i "$INPUT" \
  -map 0:a:0 \
  -c copy \
  "$OUTPUT"; then
  notify-send "FFmpeg" "Audio extracted successfully\n$OUTPUT"
else
  notify-send -u critical "FFmpeg" "Audio extraction failed"
  exit 1
fi
